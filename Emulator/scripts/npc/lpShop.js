var status = -1;
var array = [[1662000, 1, 10],[1662001, 1, 10],[1662002, 1, 10],[1662003, 1, 10],[1662004, 1, 10],[1662005, 1, 10],[1662006, 1, 10],[1662007, 1, 10],[1662008, 1, 10],[1662009, 1, 10],[1662010, 1, 10],[1662011, 1, 10],[1662012, 1, 10],[1662013, 1, 10],[1662014, 1, 10],[1662015, 1, 10],[1662016, 1, 10],[1662025, 1, 10],[1662026, 1, 10],[1662035, 1, 10],[1662036, 1, 10],[1662043, 1, 10],[1662044, 1, 10],[1672001, 1, 10],[1672002, 1, 10],[1672003, 1, 10],[1672004, 1, 10],[1672005, 1, 10],[1672006, 1, 10],[1672007, 1, 10],[1672008, 1, 10],[1672009, 1, 10],[1672010, 1, 10],[1672018, 1, 10],[1672019, 1, 10],[1672020, 1, 10],[1672021, 1, 10],[1672022, 1, 10],[1672023, 1, 10],[1672027, 1, 10],[1672028, 1, 10],[1672029, 1, 10],[1672040, 1, 10],[1672073, 1, 10], [4001715, 1, 5], [3015310, 1, 5], [3015311, 1, 5], [3015315, 1, 5], [3015325, 1, 5], [3015326, 1, 5], [3015327, 1, 5], [3015339, 1, 5], [3015340, 1, 5], [3015350, 1, 5], [3015354, 1, 5], [3015367, 1, 5], [3015367, 1, 5], [3015387, 1, 5], [3015388, 1, 5], [3015389, 1, 5], [3015390, 1, 5], [3015391, 1, 5], [3015392, 1, 5], [3015394, 1, 5], [3015409, 1, 5], [3015410, 1, 5], [3015411, 1, 5], [3015412, 1, 5], [3015413, 1, 5], [3015414, 1, 5], [3015429, 1, 5], [3015431, 1, 5], [3015432, 1, 5], [3015435, 1, 5], [3015437, 1, 5], [3015438, 1, 5], [3015440, 1, 5], [3015447, 1, 5], [3015448, 1, 5], [3015468, 1, 5], [3017000, 1, 5], [3017001, 1, 5], [3017002, 1, 5], [3017003, 1, 5], [3017004, 1, 5], [3017005, 1, 5], [3017006, 1, 5], [3017007, 1, 5], [3017008, 1, 5], [3017009, 1, 5], [3017010, 1, 5], [3017011, 1, 5], [3017012, 1, 5], [3017013, 1, 5], [3017014, 1, 5], [3017015, 1, 5], [3017016, 1, 5], [3017017, 1, 5]];
/*

*/
var sel = 0;

function action(mode, type, selection) {
    if (mode == 1) {
	status++;
    } else {
	if (status == 0) {
	    cm.dispose();
	}
	status--;
    }
    if (status == 0) {
	var chat = "로그인포인트로 모험에 도움이 되는 아이템을 교환 해드리고 있습니다. 시간은 많으니 천천히 살펴 보세요.\r\n\r\n#b" + cm.getPlayer().getName() + "#k님의 보유 로그인 포인트 : #r#e" + cm.getPlayer().getLoginPoint() + "#n#k#n\r\n\r\n#L0##b로그인 포인트로 아이템을 교환 하겠습니다.#l";
	cm.sendSimple(chat);
    } else if (status == 1) {
	var chat = "로그인포인트로 교환해드리고있는 아이템들 입니다.\r\n#b";
	for (var i = 0; i < array.length; i ++) {
		chat += "#L" + i + "# #i" + array[i][0] + "# #z" + array[i][0] + "# " + array[i][1] + "개 [#r#e" + array[i][2] + "P#n#b]\r\n";
	}
	cm.sendSimple(chat);
    } else if (status == 2) {
	sel = selection;
	cm.sendYesNo("선택하신 아이템 #b#z" + array[sel][0] + "# " + array[sel][1] + "개를 #r#e" + array[sel][2] + "포인트#n#k로 교환 하시겠습니까?");
    } else if (status == 3) {
	if (cm.getPlayer().getLoginPoint() < array[sel][2]) {
		cm.sendOk("선택하신 아이템을 교환하시기에는 로그인포인트가 부족합니다.");
		cm.dispose();
		return;
	}
	if (!cm.canHold(array[sel][0])) {
		cm.sendOk("인벤토리에 빈 공간이 있는지 확인해 주시길 바랍니다.");
		cm.dispose();
		return;
	}
	cm.gainItem(array[sel][0], array[sel][1]);
	cm.getPlayer().addLoginPoint(-array[sel][2]);
	cm.sendOk("선택하신 아이템 #b#z" + array[sel][0] + "# " + array[sel][1] + "개를 #r#e" + array[sel][2] + "포인트#n#k로 교환하였습니다.");
	cm.dispose();
    }
}

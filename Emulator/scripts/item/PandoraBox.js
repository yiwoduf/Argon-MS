importPackage(java.sql);
importPackage(java.util);
importPackage(java.lang);
importPackage(java.io);
importPackage(Packages.server);
importPackage(Packages.tools);
importPackage(Packages.tools.packet);
importPackage(Packages.handling.world);

var dropItems = new Array(2591010, 2591011, 2591012, 2591013, 2591014, 2591015, 2591016, 2591017, 2591018, 2591019, 2591020, 2591021, 2591022, 2591023, 2591024, 2591025, 2591026, 2591027, 2591028, 2591029, 2591030, 2591031, 2591032, 2591033, 2591034, 2591035, 2591036, 2591037, 2591038, 2591039, 2591040, 2591041, 2591042, 2591043, 2591044, 2591045, 2591046, 2591047, 2591048, 2591049, 2591050, 2591051, 2591052, 2591053, 2591054, 2591055, 2591056, 2591057, 2591058, 2591059, 2591060, 2591061, 2591062, 2591063, 2591064, 2591065, 2591066, 2591067, 2591068, 2591069, 2591070, 2591071, 2591072, 2591073, 2591074, 2591075, 2591076, 2591077, 2591078, 2591079, 2591080, 2591081, 2591082, 2591085, 2591086, 2591087, 2591088, 2591089, 2591090, 2591091, 2591092, 2591093, 2591094, 2591095, 2591096, 2591097, 2591098, 2591099, 2591100, 2591101, 2591102, 2591103, 2591104, 2591105, 2591106, 2591107, 2591108, 2591109, 2591110, 2591111, 2591112, 2591113, 2591114, 2591115, 2591116, 2591117, 2591118, 2591119, 2591120, 2591121, 2591122, 2591123, 2591124, 2591125, 2591126, 2591127, 2591128, 2591129, 2591130, 2591131, 2591132, 2591133, 2591134, 2591135, 2591136, 2591137, 2591138, 2591139, 2591140, 2591141, 2591142, 2591143, 2591144, 2591145, 2591146, 2591147, 2591148, 2591149, 2591150, 2591151, 2591152, 2591153, 2591154, 2591155, 2591156, 2591157, 2591158, 2591159, 2591160, 2591161, 2591162, 2591163, 2591164, 2591165, 2591166, 2591167, 2591168, 2591169, 2591170, 2591171, 2591172, 2591173, 2591174, 2591175, 2591176, 2591177, 2591178, 2591179, 2591180, 2591181, 2591182, 2591183, 2591184, 2591185, 2591186, 2591187, 2591188, 2591189, 2591190, 2591191, 2591192, 2591193, 2591194, 2591195, 2591196, 2591197, 2591198, 2591199, 2591200, 2591201, 2591202, 2591203, 2591204, 2591205, 2591206, 2591207, 2591208, 2591209, 2591210, 2591211, 2591212, 2591213, 2591214, 2591215, 2591216, 2591217, 2591218, 2591219, 2591220, 2591221, 2591222, 2591223, 2591224, 2591225, 2591226, 2591227, 2591228, 2591229, 2591230, 2591231, 2591232, 2591233, 2591234, 2591235, 2591236, 2591237, 2591238, 2591239, 2591240, 2591241, 2591242, 2591243, 2591244, 2591245, 2591246, 2591247, 2591248, 2591249, 2591250, 2591251, 2591252, 2591253, 2591254, 2591255, 2591256, 2591257, 2591258, 2591259, 2591260, 2591261, 2591262, 2591263, 2591264, 2591265, 2591266, 2591267, 2591268, 2591269, 2591270, 2591271, 2591272, 2591273, 2591274, 2591275, 2591276, 2591277, 2591278, 2591279, 2591288, 2591289, 2591290, 2591291, 2591292, 2591293, 2591294, 2591295, 2591296, 2591297, 2591298, 2591299, 2591300, 2591301, 2591302, 2591303, 2591304, 2591305, 2591306, 2591307, 2591308, 2591309, 2591310, 2591311, 2591312, 2591313, 2591314, 2591315, 2591316, 2591317, 2591318, 2591319, 2591320, 2591321, 2591322, 2591323, 2591324, 2591325, 2591326, 2591327, 2591328, 2591329, 2591330, 2591331, 2591332, 2591333, 2591334, 2591335, 2591336, 2591337, 2591338, 2591339, 2591340, 2591341, 2591342, 2591343, 2591344, 2591345, 2591346, 2591347, 2591348, 2591349, 2591350, 2591351, 2591352, 2591353, 2591354, 2591355, 2591356, 2591357, 2591358, 2591359, 2591360, 2591361, 2591362, 2591363, 2591364, 2591365, 2591366, 2591367, 2591368, 2591369, 2591370, 2591371, 2591372, 2591373, 2591374, 2591375, 2591376, 2591377, 2591378, 2591379, 2591380, 2591381, 2591383, 2591384,2591385,2591386,2591387,2591388,2591389,2591390,2591391,2591392,2591393,2591394,2591395,2591396,2591397,2591398,2591399,2591400,2591401,2591402,2591403,2591404,2591405,2591406,2591407,2591408,2591409,2591410,2591411,2591412,2591413,2591414,2591415,2591416,2591417,2591418,2591419,2591420,2591421,2591422,2591423,259124,2591425,2591426,2591427,2591428,2591429,2591430,2591431,2591432,2591433,2591434,2591435,2591436,2591437,2591438,2591439,2591410,2591411,2591412,2591413,2591414,2591415,2591416,2591417,2591418,2591419,2591420,2591421,2591422,2591423,2591424,2591425,2591426,2591427,2591487,2591488,2591489,2591490,2591491,2591492,2591493,2591495,2591500,2591501,2591502,2591503,2591504,2591505,2591506,2591507,2591508,2591509,2591510,2591511,2591512,2591513,2591514,2591515,2591516,2591517,2591518,2591519,2591520,2591521,2591522,2591523,2591524,2591525,2591528,2591529,2591530,2591531,2591532,2591533,2591534);

var status = -1;

function start() {
    status = -1;
    action (1, 0, 0);
}

function action(mode, type, selection) {
    if (status >= 0 && mode == 0) {
	cm.dispose();
	return;
    }
    if (mode == -1) {
        cm.dispose();
        return;
    }
    if (mode == 0) {
        status --;
    }
    if (mode == 1) {
        status++;
    }

    if (status == 0) {
        cm.showEffect(false,"adventureStory/brandNew");
        cm.playSound(false,"Field.img/Party1/Clear");
        cm.sendYesNo("#fn나눔고딕 Extrabold##fs15##d[판도라] 모험가의 힘이 로드 되었습니다.#k\r\n\r\n#fs14##r예#k#fs12# 를 누르시면 지금 바로 #d판도라의 소울 상자#k 를 개봉합니다.\r\n\r\n#fs15##b현재 Fever 게이지#k : #r" + cm.getPlayer().getPandoraBoxFever() + " %#k");
    } else if (status == 1) {
        if (cm.haveItem(5060028, 1) && cm.haveItem(4170049, 1)) {
	    var itemda = dropItems[Randomizer.rand(0, dropItems.length - 1)];
            cm.gainItem(itemda, 1);
            cm.gainItem(5060028, -1);
            cm.gainItem(4170049, -1);
            cm.sendOk("#fn나눔고딕 Extrabold##fUI/UIWindow2.img/QuestIcon/4/0#\r\n#v" + itemda + "##z" + itemda +"# 1개");
            cm.dispose();
        } else {
	    cm.sendOk("#fn나눔고딕 Extrabold##r판도라의 상자 또는 열쇠가 여유 수량이 있는지 확인해주세요.#k");
	    cm.dispose();
	}
        cm.dispose();
    }
}